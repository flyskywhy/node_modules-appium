'use strict';

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _appiumSupport = require('appium-support');

var localIp = _appiumSupport.util.localIp;

var env = {};

env.IMPLICIT_WAIT_TIMEOUT = 5000;

env.PLATFORM_VERSION = process.env.PLATFORM_VERSION;

env.VERBOSE = process.env.VERBOSE;
if (env.VERBOSE) {
  console.log("process.env.LAUNCH_TIMEOUT -->", process.env.LAUNCH_TIMEOUT); //eslint-disable-line no-console
}
env.LAUNCH_TIMEOUT = JSON.parse(process.env.LAUNCH_TIMEOUT || 60000);
env.MOCHA_INIT_TIMEOUT = parseInt(process.env.MOCHA_INIT_TIMEOUT || 300000, 10);

// real device or emulator
env.REAL_DEVICE = process.env.REAL_DEVICE;
env.EMU = !env.REAL_DEVICE;

// device selection
env.DEVICE = (process.env.DEVICE || 'ios93').toLowerCase();

function iphoneOrIpadSimulator(device, version) {
  var isIpad = device.match(/ipad/i);
  switch (version) {
    case '6.1':
    case '7.0':
    case '7.1':
      return isIpad ? 'iPad 2' : 'iPhone 5s';
    case '8.0':
      return isIpad ? 'iPad 2' : 'iPhone 6';
    case '8.1':
      return isIpad ? 'iPad 2' : 'iPhone 6';
    case '8.2':
      return isIpad ? 'iPad 2' : 'iPhone 6';
    case '8.3':
      return isIpad ? 'iPad 2' : 'iPhone 6';
    case '8.4':
      return isIpad ? 'iPad 2' : 'iPhone 6';
    case '9.0':
      return isIpad ? 'iPad 2' : 'iPhone 6';
    case '9.1':
      return isIpad ? 'iPad 2' : 'iPhone 6';
    case '9.2':
      return isIpad ? 'iPad 2' : 'iPhone 6';
    case '9.3':
      return isIpad ? 'iPad 2' : 'iPhone 6';
    default:
      throw new Error("invalid version");
  }
}

// set up the default capabilities
env.CAPS = {
  browserName: '',
  app: process.env.APP ? _path2['default'].resolve(__dirname, '../../sample-code/apps/' + process.env.APP + '/build/Release-iphonesimulator/' + process.env.APP + '.app') : ''
};
switch (env.DEVICE) {
  case 'ios6':
  case 'ios6_iphone':
  case 'ios6_ipad':
    env.CAPS.deviceName = iphoneOrIpadSimulator(env.DEVICE, "6.1");
    break;
  case 'ios7':
  case 'ios7_iphone':
  case 'ios7_ipad':
    env.CAPS.deviceName = iphoneOrIpadSimulator(env.DEVICE, "7.0");
    break;
  case 'ios71':
  case 'ios71_iphone':
  case 'ios71_ipad':
    env.CAPS.deviceName = iphoneOrIpadSimulator(env.DEVICE, "7.1");
    break;
  case 'ios8':
  case 'ios80':
  case 'ios8_iphone':
  case 'ios8_ipad':
    env.CAPS.deviceName = iphoneOrIpadSimulator(env.DEVICE, "8.0");
    break;
  case 'ios81':
  case 'ios81_iphone':
  case 'ios81_ipad':
    env.CAPS.deviceName = iphoneOrIpadSimulator(env.DEVICE, "8.1");
    break;
  case 'ios82':
  case 'ios82_iphone':
  case 'ios82_ipad':
    env.CAPS.deviceName = iphoneOrIpadSimulator(env.DEVICE, "8.2");
    break;
  case 'ios83':
  case 'ios83_iphone':
  case 'ios83_ipad':
    env.CAPS.deviceName = iphoneOrIpadSimulator(env.DEVICE, "8.3");
    break;
  case 'ios84':
  case 'ios84_iphone':
  case 'ios84_ipad':
    env.CAPS.deviceName = iphoneOrIpadSimulator(env.DEVICE, "8.4");
    break;
  case 'ios9':
  case 'ios9_iphone':
  case 'ios9_ipad':
    env.CAPS.deviceName = iphoneOrIpadSimulator(env.DEVICE, "9.0");
    break;
  case 'ios91':
  case 'ios91_iphone':
  case 'ios91_ipad':
    env.CAPS.deviceName = iphoneOrIpadSimulator(env.DEVICE, "9.1");
    break;
  case 'ios': // default. move as versions go up
  case 'ios92':
  case 'ios92_iphone':
  case 'ios92_ipad':
    env.CAPS.deviceName = iphoneOrIpadSimulator(env.DEVICE, "9.2");
    break;
  case 'ios93':
  case 'ios93_iphone':
  case 'ios93_ipad':
    env.CAPS.deviceName = iphoneOrIpadSimulator(env.DEVICE, "9.3");
    break;
  default:
    throw new Error('Unknown device!!!');
}

env.IOS6 = env.DEVICE.match(/ios6/i);
env.IOS7 = env.DEVICE.match(/ios7/i);
env.IOS71 = env.DEVICE.match(/ios71/i);
env.IOS8 = env.DEVICE.match(/ios8/i);
env.IOS80 = env.DEVICE.match(/ios80/i);
env.IOS81 = env.DEVICE.match(/ios81/i);
env.IOS82 = env.DEVICE.match(/ios82/i);
env.IOS83 = env.DEVICE.match(/ios83/i);
env.IOS84 = env.DEVICE.match(/ios84/i);
env.IOS9 = env.DEVICE.match(/ios9/i);
env.IOS91 = env.DEVICE.match(/ios91/i);
env.IOS92 = env.DEVICE.match(/ios92/i);
env.IOS93 = env.DEVICE.match(/ios93/i);

// better timeout settings for 71
env.LAUNCH_TIMEOUT = process.env.LAUNCH_TIMEOUT ? JSON.parse(process.env.LAUNCH_TIMEOUT) : env.IOS71 || env.IOS8 || env.IOS9 ? { "global": 60000, "afterSimLaunch": 10000 } : 60000;

env.CAPS.launchTimeout = env.LAUNCH_TIMEOUT;

env.CAPS.platformName = "iOS";

if (env.REAL_DEVICE) {
  env.CAPS.udid = "auto";
}

if (process.env.UDID) {
  env.CAPS.udid = process.env.UDID;
}

if (env.PLATFORM_VERSION) {
  env.CAPS.platformVersion = env.PLATFORM_VERSION;
} else if (env.IOS6) {
  env.CAPS.platformVersion = "6.1";
} else if (env.IOS71) {
  env.CAPS.platformVersion = "7.1";
} else if (env.IOS7) {
  env.CAPS.platformVersion = "7.0";
} else if (env.IOS81) {
  env.CAPS.platformVersion = "8.1";
} else if (env.IOS82) {
  env.CAPS.platformVersion = "8.2";
} else if (env.IOS83) {
  env.CAPS.platformVersion = "8.3";
} else if (env.IOS84) {
  env.CAPS.platformVersion = "8.4";
} else if (env.IOS8) {
  env.CAPS.platformVersion = "8.0";
} else if (env.IOS91) {
  env.CAPS.platformVersion = "9.1";
} else if (env.IOS92) {
  env.CAPS.platformVersion = "9.2";
} else if (env.IOS93) {
  env.CAPS.platformVersion = "9.3";
} else if (env.IOS9) {
  env.CAPS.platformVersion = "9.0";
}

// max retry
if (process.env.MAX_RETRY) {
  env.MAX_RETRY = parseInt(process.env.MAX_RETRY, 10);
}

env.APPIUM_PORT = parseInt(process.env.APPIUM_PORT || 4723, 10);
env.LOCAL_APPIUM_PORT = env.SAUCE ? 4443 : env.APPIUM_PORT;
if (env.REAL_DEVICE) {
  env.TEST_END_POINT = 'http://' + localIp() + ':' + env.LOCAL_APPIUM_PORT + '/test/';
} else {
  env.TEST_END_POINT = 'http://localhost:' + env.LOCAL_APPIUM_PORT + '/test/';
}
env.GUINEA_TEST_END_POINT = env.TEST_END_POINT + 'guinea-pig';
env.PHISHING_END_POINT = env.TEST_END_POINT.replace('http://', 'http://foo:bar@');

exports['default'] = env;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvZTJlL2hlbHBlcnMvZW52LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O29CQUFpQixNQUFNOzs7OzZCQUNGLGdCQUFnQjs7QUFHckMsSUFBSSxPQUFPLEdBQUcsb0JBQUssT0FBTyxDQUFDOztBQUUzQixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7O0FBRWIsR0FBRyxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQzs7QUFFakMsR0FBRyxDQUFDLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUM7O0FBRXBELEdBQUcsQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7QUFDbEMsSUFBSSxHQUFHLENBQUMsT0FBTyxFQUFFO0FBQ2YsU0FBTyxDQUFDLEdBQUcsQ0FBQyxnQ0FBZ0MsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0NBQzNFO0FBQ0QsR0FBRyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxJQUFJLEtBQUssQ0FBQyxDQUFDO0FBQ3JFLEdBQUcsQ0FBQyxrQkFBa0IsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsSUFBSSxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7OztBQUdoRixHQUFHLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDO0FBQzFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDOzs7QUFHM0IsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLE9BQU8sQ0FBQSxDQUFFLFdBQVcsRUFBRSxDQUFDOztBQUUzRCxTQUFTLHFCQUFxQixDQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUU7QUFDL0MsTUFBSSxNQUFNLEdBQUcsTUFB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QUNsQyxNQUFNLElBQUksR0FBRyxDQUFDLElBQUksRUFBRTtBQUNuQixLQUFHLENBQUMsSUFBSSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUM7Q0FDbEM7OztBQUdELElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUU7QUFDekIsS0FBRyxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7Q0FDckQ7O0FBRUQsR0FBRyxDQUFDLFdBQVcsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLElBQUksSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ2hFLEdBQUcsQ0FBQyxpQkFBaUIsR0FBRyxHQUFHLENBQUMsS0FBSyxHQUFHLElBQUksR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDO0FBQzNELElBQUksR0FBRyxDQUFDLFdBQVcsRUFBRTtBQUNuQixLQUFHLENBQUMsY0FBYyxlQUFhLE9BQU8sRUFBRSxTQUFJLEdBQUcsQ0FBQyxpQkFBaUIsV0FBUSxDQUFDO0NBQzNFLE1BQU07QUFDTCxLQUFHLENBQUMsY0FBYyx5QkFBdUIsR0FBRyxDQUFDLGlCQUFpQixXQUFRLENBQUM7Q0FDeEU7QUFDRCxHQUFHLENBQUMscUJBQXFCLEdBQUcsR0FBRyxDQUFDLGNBQWMsR0FBRyxZQUFZLENBQUM7QUFDOUQsR0FBRyxDQUFDLGtCQUFrQixHQUFHLEdBQUcsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDOztxQkFFbkUsR0FBRyIsImZpbGUiOiJ0ZXN0L2UyZS9oZWxwZXJzL2Vudi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgdXRpbCB9IGZyb20gJ2FwcGl1bS1zdXBwb3J0JztcblxuXG5sZXQgbG9jYWxJcCA9IHV0aWwubG9jYWxJcDtcblxubGV0IGVudiA9IHt9O1xuXG5lbnYuSU1QTElDSVRfV0FJVF9USU1FT1VUID0gNTAwMDtcblxuZW52LlBMQVRGT1JNX1ZFUlNJT04gPSBwcm9jZXNzLmVudi5QTEFURk9STV9WRVJTSU9OO1xuXG5lbnYuVkVSQk9TRSA9IHByb2Nlc3MuZW52LlZFUkJPU0U7XG5pZiAoZW52LlZFUkJPU0UpIHtcbiAgY29uc29sZS5sb2coXCJwcm9jZXNzLmVudi5MQVVOQ0hfVElNRU9VVCAtLT5cIiwgcHJvY2Vzcy5lbnYuTEFVTkNIX1RJTUVPVVQpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxufVxuZW52LkxBVU5DSF9USU1FT1VUID0gSlNPTi5wYXJzZShwcm9jZXNzLmVudi5MQVVOQ0hfVElNRU9VVCB8fCA2MDAwMCk7XG5lbnYuTU9DSEFfSU5JVF9USU1FT1VUID0gcGFyc2VJbnQocHJvY2Vzcy5lbnYuTU9DSEFfSU5JVF9USU1FT1VUIHx8IDMwMDAwMCwgMTApO1xuXG4vLyByZWFsIGRldmljZSBvciBlbXVsYXRvclxuZW52LlJFQUxfREVWSUNFID0gcHJvY2Vzcy5lbnYuUkVBTF9ERVZJQ0U7XG5lbnYuRU1VID0gIWVudi5SRUFMX0RFVklDRTtcblxuLy8gZGV2aWNlIHNlbGVjdGlvblxuZW52LkRFVklDRSA9IChwcm9jZXNzLmVudi5ERVZJQ0UgfHwgJ2lvczkzJykudG9Mb3dlckNhc2UoKTtcblxuZnVuY3Rpb24gaXBob25lT3JJcGFkU2ltdWxhdG9yIChkZXZpY2UsIHZlcnNpb24pIHtcbiAgbGV0IGlzSXBhZCA9IGRldmljZS5tYXRjaCgvaXBhZC9pKTtcbiAgc3dpdGNoICh2ZXJzaW9uKSB7XG4gICAgY2FzZSAnNi4xJzpcbiAgICBjYXNlICc3LjAnOlxuICAgIGNhc2UgJzcuMSc6XG4gICAgICByZXR1cm4gaXNJcGFkID8gJ2lQYWQgMicgOiAnaVBob25lIDVzJztcbiAgICBjYXNlICc4LjAnOlxuICAgICAgcmV0dXJuIGlzSXBhZCA/ICdpUGFkIDInIDogJ2lQaG9uZSA2JztcbiAgICBjYXNlICc4LjEnOlxuICAgICAgcmV0dXJuIGlzSXBhZCA/ICdpUGFkIDInIDogJ2lQaG9uZSA2JztcbiAgICBjYXNlICc4LjInOlxuICAgICAgcmV0dXJuIGlzSXBhZCA/ICdpUGFkIDInIDogJ2lQaG9uZSA2JztcbiAgICBjYXNlICc4LjMnOlxuICAgICAgcmV0dXJuIGlzSXBhZCA/ICdpUGFkIDInIDogJ2lQaG9uZSA2JztcbiAgICBjYXNlICc4LjQnOlxuICAgICAgcmV0dXJuIGlzSXBhZCA/ICdpUGFkIDInIDogJ2lQaG9uZSA2JztcbiAgICBjYXNlICc5LjAnOlxuICAgICAgcmV0dXJuIGlzSXBhZCA/ICdpUGFkIDInIDogJ2lQaG9uZSA2JztcbiAgICBjYXNlICc5LjEnOlxuICAgICAgcmV0dXJuIGlzSXBhZCA/ICdpUGFkIDInIDogJ2lQaG9uZSA2JztcbiAgICBjYXNlICc5LjInOlxuICAgICAgcmV0dXJuIGlzSXBhZCA/ICdpUGFkIDInIDogJ2lQaG9uZSA2JztcbiAgICBjYXNlICc5LjMnOlxuICAgICAgcmV0dXJuIGlzSXBhZCA/ICdpUGFkIDInIDogJ2lQaG9uZSA2JztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB2ZXJzaW9uXCIpO1xuICB9XG59XG5cbi8vIHNldCB1cCB0aGUgZGVmYXVsdCBjYXBhYmlsaXRpZXNcbmVudi5DQVBTID0ge1xuICBicm93c2VyTmFtZTogJycsXG4gIGFwcDogcHJvY2Vzcy5lbnYuQVBQID8gcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgYC4uLy4uL3NhbXBsZS1jb2RlL2FwcHMvJHtwcm9jZXNzLmVudi5BUFB9L2J1aWxkL1JlbGVhc2UtaXBob25lc2ltdWxhdG9yLyR7cHJvY2Vzcy5lbnYuQVBQfS5hcHBgKSA6ICcnXG59O1xuc3dpdGNoIChlbnYuREVWSUNFKSB7XG4gIGNhc2UgJ2lvczYnOlxuICBjYXNlICdpb3M2X2lwaG9uZSc6XG4gIGNhc2UgJ2lvczZfaXBhZCc6XG4gICAgZW52LkNBUFMuZGV2aWNlTmFtZSA9IGlwaG9uZU9ySXBhZFNpbXVsYXRvcihlbnYuREVWSUNFLCBcIjYuMVwiKTtcbiAgICBicmVhaztcbiAgY2FzZSAnaW9zNyc6XG4gIGNhc2UgJ2lvczdfaXBob25lJzpcbiAgY2FzZSAnaW9zN19pcGFkJzpcbiAgICBlbnYuQ0FQUy5kZXZpY2VOYW1lID0gaXBob25lT3JJcGFkU2ltdWxhdG9yKGVudi5ERVZJQ0UsIFwiNy4wXCIpO1xuICAgIGJyZWFrO1xuICBjYXNlICdpb3M3MSc6XG4gIGNhc2UgJ2lvczcxX2lwaG9uZSc6XG4gIGNhc2UgJ2lvczcxX2lwYWQnOlxuICAgIGVudi5DQVBTLmRldmljZU5hbWUgPSBpcGhvbmVPcklwYWRTaW11bGF0b3IoZW52LkRFVklDRSwgXCI3LjFcIik7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ2lvczgnOlxuICBjYXNlICdpb3M4MCc6XG4gIGNhc2UgJ2lvczhfaXBob25lJzpcbiAgY2FzZSAnaW9zOF9pcGFkJzpcbiAgICBlbnYuQ0FQUy5kZXZpY2VOYW1lID0gaXBob25lT3JJcGFkU2ltdWxhdG9yKGVudi5ERVZJQ0UsIFwiOC4wXCIpO1xuICAgIGJyZWFrO1xuICBjYXNlICdpb3M4MSc6XG4gIGNhc2UgJ2lvczgxX2lwaG9uZSc6XG4gIGNhc2UgJ2lvczgxX2lwYWQnOlxuICAgIGVudi5DQVBTLmRldmljZU5hbWUgPSBpcGhvbmVPcklwYWRTaW11bGF0b3IoZW52LkRFVklDRSwgXCI4LjFcIik7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ2lvczgyJzpcbiAgY2FzZSAnaW9zODJfaXBob25lJzpcbiAgY2FzZSAnaW9zODJfaXBhZCc6XG4gICAgZW52LkNBUFMuZGV2aWNlTmFtZSA9IGlwaG9uZU9ySXBhZFNpbXVsYXRvcihlbnYuREVWSUNFLCBcIjguMlwiKTtcbiAgICBicmVhaztcbiAgY2FzZSAnaW9zODMnOlxuICBjYXNlICdpb3M4M19pcGhvbmUnOlxuICBjYXNlICdpb3M4M19pcGFkJzpcbiAgICBlbnYuQ0FQUy5kZXZpY2VOYW1lID0gaXBob25lT3JJcGFkU2ltdWxhdG9yKGVudi5ERVZJQ0UsIFwiOC4zXCIpO1xuICAgIGJyZWFrO1xuICBjYXNlICdpb3M4NCc6XG4gIGNhc2UgJ2lvczg0X2lwaG9uZSc6XG4gIGNhc2UgJ2lvczg0X2lwYWQnOlxuICAgIGVudi5DQVBTLmRldmljZU5hbWUgPSBpcGhvbmVPcklwYWRTaW11bGF0b3IoZW52LkRFVklDRSwgXCI4LjRcIik7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ2lvczknOlxuICBjYXNlICdpb3M5X2lwaG9uZSc6XG4gIGNhc2UgJ2lvczlfaXBhZCc6XG4gICAgZW52LkNBUFMuZGV2aWNlTmFtZSA9IGlwaG9uZU9ySXBhZFNpbXVsYXRvcihlbnYuREVWSUNFLCBcIjkuMFwiKTtcbiAgICBicmVhaztcbiAgY2FzZSAnaW9zOTEnOlxuICBjYXNlICdpb3M5MV9pcGhvbmUnOlxuICBjYXNlICdpb3M5MV9pcGFkJzpcbiAgICBlbnYuQ0FQUy5kZXZpY2VOYW1lID0gaXBob25lT3JJcGFkU2ltdWxhdG9yKGVudi5ERVZJQ0UsIFwiOS4xXCIpO1xuICAgIGJyZWFrO1xuICBjYXNlICdpb3MnOiAvLyBkZWZhdWx0LiBtb3ZlIGFzIHZlcnNpb25zIGdvIHVwXG4gIGNhc2UgJ2lvczkyJzpcbiAgY2FzZSAnaW9zOTJfaXBob25lJzpcbiAgY2FzZSAnaW9zOTJfaXBhZCc6XG4gICAgZW52LkNBUFMuZGV2aWNlTmFtZSA9IGlwaG9uZU9ySXBhZFNpbXVsYXRvcihlbnYuREVWSUNFLCBcIjkuMlwiKTtcbiAgICBicmVhaztcbiAgY2FzZSAnaW9zOTMnOlxuICBjYXNlICdpb3M5M19pcGhvbmUnOlxuICBjYXNlICdpb3M5M19pcGFkJzpcbiAgICBlbnYuQ0FQUy5kZXZpY2VOYW1lID0gaXBob25lT3JJcGFkU2ltdWxhdG9yKGVudi5ERVZJQ0UsIFwiOS4zXCIpO1xuICAgIGJyZWFrO1xuICBkZWZhdWx0OlxuICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBkZXZpY2UhISEnKTtcbn1cblxuZW52LklPUzYgPSBlbnYuREVWSUNFLm1hdGNoKC9pb3M2L2kpO1xuZW52LklPUzcgPSBlbnYuREVWSUNFLm1hdGNoKC9pb3M3L2kpO1xuZW52LklPUzcxID0gZW52LkRFVklDRS5tYXRjaCgvaW9zNzEvaSk7XG5lbnYuSU9TOCA9IGVudi5ERVZJQ0UubWF0Y2goL2lvczgvaSk7XG5lbnYuSU9TODAgPSBlbnYuREVWSUNFLm1hdGNoKC9pb3M4MC9pKTtcbmVudi5JT1M4MSA9IGVudi5ERVZJQ0UubWF0Y2goL2lvczgxL2kpO1xuZW52LklPUzgyID0gZW52LkRFVklDRS5tYXRjaCgvaW9zODIvaSk7XG5lbnYuSU9TODMgPSBlbnYuREVWSUNFLm1hdGNoKC9pb3M4My9pKTtcbmVudi5JT1M4NCA9IGVudi5ERVZJQ0UubWF0Y2goL2lvczg0L2kpO1xuZW52LklPUzkgPSBlbnYuREVWSUNFLm1hdGNoKC9pb3M5L2kpO1xuZW52LklPUzkxID0gZW52LkRFVklDRS5tYXRjaCgvaW9zOTEvaSk7XG5lbnYuSU9TOTIgPSBlbnYuREVWSUNFLm1hdGNoKC9pb3M5Mi9pKTtcbmVudi5JT1M5MyA9IGVudi5ERVZJQ0UubWF0Y2goL2lvczkzL2kpO1xuXG4vLyBiZXR0ZXIgdGltZW91dCBzZXR0aW5ncyBmb3IgNzFcbmVudi5MQVVOQ0hfVElNRU9VVCA9ICBwcm9jZXNzLmVudi5MQVVOQ0hfVElNRU9VVCA/IEpTT04ucGFyc2UocHJvY2Vzcy5lbnYuTEFVTkNIX1RJTUVPVVQpIDpcbiAgKChlbnYuSU9TNzEgfHwgZW52LklPUzggfHwgZW52LklPUzkpID8ge1wiZ2xvYmFsXCI6IDYwMDAwLCBcImFmdGVyU2ltTGF1bmNoXCI6IDEwMDAwfSA6IDYwMDAwKTtcblxuZW52LkNBUFMubGF1bmNoVGltZW91dCA9IGVudi5MQVVOQ0hfVElNRU9VVDtcblxuZW52LkNBUFMucGxhdGZvcm1OYW1lID0gXCJpT1NcIjtcblxuaWYgKGVudi5SRUFMX0RFVklDRSkge1xuICBlbnYuQ0FQUy51ZGlkID0gXCJhdXRvXCI7XG59XG5cbmlmIChwcm9jZXNzLmVudi5VRElEKSB7XG4gIGVudi5DQVBTLnVkaWQgPSBwcm9jZXNzLmVudi5VRElEO1xufVxuXG5pZiAoZW52LlBMQVRGT1JNX1ZFUlNJT04pIHtcbiAgZW52LkNBUFMucGxhdGZvcm1WZXJzaW9uID0gZW52LlBMQVRGT1JNX1ZFUlNJT047XG59IGVsc2UgaWYgKGVudi5JT1M2KSB7XG4gIGVudi5DQVBTLnBsYXRmb3JtVmVyc2lvbiA9IFwiNi4xXCI7XG59IGVsc2UgaWYgKGVudi5JT1M3MSkge1xuICBlbnYuQ0FQUy5wbGF0Zm9ybVZlcnNpb24gPSBcIjcuMVwiO1xufSBlbHNlIGlmIChlbnYuSU9TNykge1xuICBlbnYuQ0FQUy5wbGF0Zm9ybVZlcnNpb24gPSBcIjcuMFwiO1xufSBlbHNlIGlmIChlbnYuSU9TODEpIHtcbiAgZW52LkNBUFMucGxhdGZvcm1WZXJzaW9uID0gXCI4LjFcIjtcbn0gZWxzZSBpZiAoZW52LklPUzgyKSB7XG4gIGVudi5DQVBTLnBsYXRmb3JtVmVyc2lvbiA9IFwiOC4yXCI7XG59IGVsc2UgaWYgKGVudi5JT1M4Mykge1xuICBlbnYuQ0FQUy5wbGF0Zm9ybVZlcnNpb24gPSBcIjguM1wiO1xufSBlbHNlIGlmIChlbnYuSU9TODQpIHtcbiAgZW52LkNBUFMucGxhdGZvcm1WZXJzaW9uID0gXCI4LjRcIjtcbn0gZWxzZSBpZiAoZW52LklPUzgpIHtcbiAgZW52LkNBUFMucGxhdGZvcm1WZXJzaW9uID0gXCI4LjBcIjtcbn0gZWxzZSBpZiAoZW52LklPUzkxKSB7XG4gIGVudi5DQVBTLnBsYXRmb3JtVmVyc2lvbiA9IFwiOS4xXCI7XG59IGVsc2UgaWYgKGVudi5JT1M5Mikge1xuICBlbnYuQ0FQUy5wbGF0Zm9ybVZlcnNpb24gPSBcIjkuMlwiO1xufSBlbHNlIGlmIChlbnYuSU9TOTMpIHtcbiAgZW52LkNBUFMucGxhdGZvcm1WZXJzaW9uID0gXCI5LjNcIjtcbn0gZWxzZSBpZiAoZW52LklPUzkpIHtcbiAgZW52LkNBUFMucGxhdGZvcm1WZXJzaW9uID0gXCI5LjBcIjtcbn1cblxuLy8gbWF4IHJldHJ5XG5pZiAocHJvY2Vzcy5lbnYuTUFYX1JFVFJZKSB7XG4gIGVudi5NQVhfUkVUUlkgPSBwYXJzZUludChwcm9jZXNzLmVudi5NQVhfUkVUUlksIDEwKTtcbn1cblxuZW52LkFQUElVTV9QT1JUID0gcGFyc2VJbnQocHJvY2Vzcy5lbnYuQVBQSVVNX1BPUlQgfHwgNDcyMywgMTApO1xuZW52LkxPQ0FMX0FQUElVTV9QT1JUID0gZW52LlNBVUNFID8gNDQ0MyA6IGVudi5BUFBJVU1fUE9SVDtcbmlmIChlbnYuUkVBTF9ERVZJQ0UpIHtcbiAgZW52LlRFU1RfRU5EX1BPSU5UID0gYGh0dHA6Ly8ke2xvY2FsSXAoKX06JHtlbnYuTE9DQUxfQVBQSVVNX1BPUlR9L3Rlc3QvYDtcbn0gZWxzZSB7XG4gIGVudi5URVNUX0VORF9QT0lOVCA9IGBodHRwOi8vbG9jYWxob3N0OiR7ZW52LkxPQ0FMX0FQUElVTV9QT1JUfS90ZXN0L2A7XG59XG5lbnYuR1VJTkVBX1RFU1RfRU5EX1BPSU5UID0gZW52LlRFU1RfRU5EX1BPSU5UICsgJ2d1aW5lYS1waWcnO1xuZW52LlBISVNISU5HX0VORF9QT0lOVCA9IGVudi5URVNUX0VORF9QT0lOVC5yZXBsYWNlKCdodHRwOi8vJywgJ2h0dHA6Ly9mb286YmFyQCcpO1xuXG5leHBvcnQgZGVmYXVsdCBlbnY7XG4iXSwic291cmNlUm9vdCI6Ii4uLy4uLy4uLy4uIn0=
